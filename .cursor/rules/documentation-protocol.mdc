---
title: Core ERP Documentation Protocol
description: Guidelines for organizing and maintaining project documentation for context continuity
---

# Core ERP - Documentation Protocol

## üìÅ Documentation Structure

### Root Level Documentation
Location: Project root `/`

**Primary Documents (Always keep updated):**
- `README.md` - Project overview, quick start, key features
- `PROJECT_CONTEXT.md` - Comprehensive architecture guide (master reference)
- `START_GUIDE.md` - Quick start checklist for new developers

**Purpose:** These are the main entry points for understanding the project.

---

### Logs Directory (`/logs/`)
Location: `/logs/`

**Update Logs / Result Logs:**
- `IMPLEMENTATION_STATUS.md` - Current status of all features
- `COMPLETION_SUMMARY.md` - Session completion summaries
- `TEST_RESULTS.md` - Test execution results
- `CHANGELOG.md` - Version history and changes

**Naming Convention:**
- Use `YYYYMMDD_session_name.md` for session logs
- Use `YYYYMMDD_test_name.md` for test results
- Always include date prefix for chronological sorting

**Purpose:** Track progress, decisions, and test results over time.

---

### Documentation Directory (`/docs/`)
Location: `/docs/`

**Organized by Category:**

#### `/docs/architecture/`
- `database-schema.md` - Complete database schema documentation
- `security-model.md` - Authentication, authorization, RLS policies
- `permission-system.md` - How permissions work
- `edge-functions.md` - Server-side logic documentation
- `state-management.md` - React Query, Context API patterns

#### `/docs/guides/`
- `development-setup.md` - Setting up development environment
- `creating-users.md` - How to create and manage users
- `managing-roles.md` - Role management guide
- `deploying.md` - Deployment instructions
- `troubleshooting.md` - Common issues and solutions

#### `/docs/api/`
- `edge-functions-api.md` - All Edge Functions endpoints
- `database-queries.md` - Common database query patterns
- `hooks-reference.md` - React Query hooks documentation
- `component-api.md` - Component props and usage

#### `/docs/testing/`
- `test-strategy.md` - Testing approach and coverage
- `manual-tests.md` - Manual testing checklists
- `automated-tests.md` - Automated test documentation

#### `/docs/deployment/`
- `production-checklist.md` - Pre-deployment checklist
- `environment-setup.md` - Environment variables
- `migration-guide.md` - Running database migrations
- `edge-function-deployment.md` - Deploying Edge Functions

**Purpose:** Detailed, organized documentation by topic.

---

## üîÑ Update Protocol

### ‚ö†Ô∏è Important: Update Existing Documents, Don't Create New Ones

**Key Principle:** Check existing documentation first and update what's needed. Only create new documents when:
- A new feature category requires a new guide
- A new type of log is needed (e.g., first deployment log)
- Documentation structure needs expansion

**For most work:**
- ‚úÖ **Update** existing documents (PROJECT_CONTEXT.md, IMPLEMENTATION_STATUS.md, etc.)
- ‚úÖ **Check** if relevant docs exist before creating new ones
- ‚ùå **Don't** create new result/summary documents for every session
- ‚ùå **Don't** duplicate information in multiple files

### When to Update Documentation

#### After Major Features
1. Update `PROJECT_CONTEXT.md` with new architecture details
2. Update entry in `logs/IMPLEMENTATION_STATUS.md` (don't create new file)
3. Update or add relevant guide in `/docs/guides/` if needed
4. Update API documentation if endpoints changed

#### After Testing
1. Update `logs/TEST_RESULTS.md` with new test results (append to existing file)
2. Only create `logs/YYYYMMDD_test_results.md` if it's a major test suite run
3. Document any bugs found in issues tracker

#### After Deployment
1. Update `logs/CHANGELOG.md` with version (append to existing file)
2. Only create new deployment log if it's a major release milestone
3. Update production documentation

#### Daily/Session End
1. **Update** `logs/IMPLEMENTATION_STATUS.md` (don't create new session log unless it's a major milestone)
2. **Update** `PROJECT_CONTEXT.md` if architecture changed
3. Note any blockers or next steps in existing status documents

---

## üìù Writing Guidelines

### Document Headers (Always Include)

```markdown
# [Document Title]

**Last Updated:** YYYY-MM-DD  
**Status:** üü¢ Current / üü° Needs Update / üî¥ Deprecated  
**Related Docs:** [Links to related documentation]

---

## Quick Overview
[2-3 sentence summary of what this document covers]
```

### Use Status Indicators

- üü¢ **Complete/Working** - Feature is done and tested
- üü° **In Progress** - Work is ongoing
- üî¥ **Blocked** - Waiting on something
- ‚è≥ **Pending** - Not started yet
- ‚ö†Ô∏è **Needs Attention** - Has issues
- ‚úÖ **Verified** - Tested and confirmed working

### Code Examples

Always include:
- File path
- Line numbers (if referencing existing code)
- Context comments
- Expected output/behavior

```typescript
// src/hooks/useUsers.ts
export function useUsers() {
  return useQuery({
    queryKey: ['users'],
    queryFn: async () => {
      // Fetch users with their roles
      const { data, error } = await supabase
        .from('users')
        .select('*, roles:user_roles(role:roles(*))')
      if (error) throw error
      return data
    }
  })
}
```

---

## üéØ Context Continuity Rules

### For AI Assistants

When starting a new session:

1. **Read First (Priority Order):**
   - `README.md` - Get project overview
   - `PROJECT_CONTEXT.md` - Understand full architecture
   - Latest `logs/IMPLEMENTATION_STATUS.md` - Know current state
   - `.cursorrules` - Follow project-specific rules

2. **Update During Session:**
   - **Update** existing status documents as features complete
   - **Update** `IMPLEMENTATION_STATUS.md` with progress
   - Note any architectural decisions in existing docs
   - Only create new session log if it's a major milestone or new feature category

3. **Before Ending Session:**
   - **Update** `IMPLEMENTATION_STATUS.md` (don't create new completion summary)
   - **Update** `PROJECT_CONTEXT.md` if architecture changed
   - List next steps in existing status documents
   - Only create new documents if truly needed (new feature category, major milestone)

### For Developers

When returning to project:

1. **Quick Catch-Up:**
   - Read latest log in `/logs/` (sorted by date)
   - Check `IMPLEMENTATION_STATUS.md` for current state
   - Review `PROJECT_CONTEXT.md` if needed

2. **Before Starting Work:**
   - **Update** `IMPLEMENTATION_STATUS.md` with your goals
   - Only create new session log if it's a major milestone

3. **During Work:**
   - **Update** relevant documentation as you go
   - **Update** existing status documents with decisions
   - Don't create new documents unless necessary

---

## üìä Log Templates

### Session Log Template

```markdown
# Session Log: [Session Name]

**Date:** YYYY-MM-DD  
**Duration:** X hours  
**Status:** ‚úÖ Complete / üü° In Progress

## Goals
- [ ] Goal 1
- [ ] Goal 2
- [ ] Goal 3

## What Was Done
1. **Feature/Task 1**
   - Description
   - Files changed
   - Status: ‚úÖ

2. **Feature/Task 2**
   - Description
   - Files changed
   - Status: ‚úÖ

## Decisions Made
- Decision 1: Reasoning
- Decision 2: Reasoning

## Issues Encountered
- Issue 1: How it was resolved
- Issue 2: Still pending

## Next Steps
1. Next task 1
2. Next task 2
3. Next task 3

## Files Modified
- `path/to/file1.ts` - Description
- `path/to/file2.tsx` - Description

## Notes
Additional context, reminders, or important information
```

### Test Results Template

```markdown
# Test Results: [Test Name]

**Date:** YYYY-MM-DD  
**Test Type:** Unit / Integration / E2E / Manual  
**Status:** ‚úÖ Pass / ‚ùå Fail / üü° Partial

## Test Summary
Brief description of what was tested

## Test Cases
| # | Test Case | Expected | Actual | Status |
|---|-----------|----------|--------|--------|
| 1 | Case 1 | Expected result | Actual result | ‚úÖ |
| 2 | Case 2 | Expected result | Actual result | ‚ùå |

## Pass Rate
- Total: X tests
- Passed: X (XX%)
- Failed: X (XX%)

## Issues Found
1. **Issue 1**
   - Severity: High/Medium/Low
   - Description
   - Steps to reproduce
   - Expected fix

## Recommendations
- Recommendation 1
- Recommendation 2
```

---

## üîß Maintenance Schedule

### Weekly
- [ ] Review and update `IMPLEMENTATION_STATUS.md`
- [ ] Archive old session logs older than 30 days
- [ ] Update `PROJECT_CONTEXT.md` if architecture evolved

### Monthly
- [ ] Review all documentation for accuracy
- [ ] Update version numbers
- [ ] Clean up deprecated documents
- [ ] Create monthly summary log

### Before Major Releases
- [ ] Complete documentation review
- [ ] Update all deployment guides
- [ ] Create release notes
- [ ] Archive pre-release logs

---

## üìç Quick Reference

### Where to Find Information

| Need to Know | Look Here | Section |
|--------------|-----------|---------|
| Project overview | `README.md` | Root |
| Full architecture | `PROJECT_CONTEXT.md` | Root |
| Current status | `logs/IMPLEMENTATION_STATUS.md` | Logs |
| How to deploy | `docs/deployment/` | Deployment |
| API endpoints | `docs/api/` | API |
| Test results | `logs/TEST_RESULTS.md` | Logs |
| Database schema | `docs/architecture/database-schema.md` | Architecture |
| Development setup | `docs/guides/development-setup.md` | Guides |

### Quick Commands

```bash
# View latest logs
ls -la logs/ | sort -r | head

# View current status (update this file, don't create new ones)
cat logs/IMPLEMENTATION_STATUS.md

# Only create new session log for major milestones
# touch logs/$(date +%Y%m%d)_session_name.md
```

---

## ‚úÖ Documentation Checklist

### When Creating New Feature

- [ ] **Update** `PROJECT_CONTEXT.md` with architecture details
- [ ] **Check** if guide exists in `/docs/guides/` - update it, or create only if new category
- [ ] **Update** API docs in `/docs/api/` if endpoints changed
- [ ] **Update** tests in `/docs/testing/`
- [ ] **Update** `IMPLEMENTATION_STATUS.md` (don't create new log)
- [ ] Only create new session log if it's a major milestone

### When Fixing Bugs

- [ ] **Update** `logs/TEST_RESULTS.md` with bug details
- [ ] **Update** troubleshooting guide
- [ ] **Update** `IMPLEMENTATION_STATUS.md` with fix
- [ ] **Update** relevant documentation

### When Refactoring

- [ ] **Update** architecture docs
- [ ] **Update** code examples
- [ ] **Update** API docs if signatures changed
- [ ] **Update** `PROJECT_CONTEXT.md` with reasoning

---

## üéì Best Practices

### Do's ‚úÖ
- ‚úÖ Keep `PROJECT_CONTEXT.md` as single source of truth
- ‚úÖ Use consistent date format (YYYY-MM-DD)
- ‚úÖ Include status indicators in headers
- ‚úÖ Link related documents
- ‚úÖ Write for someone who knows nothing about the project
- ‚úÖ Update documentation as you code, not after
- ‚úÖ Use templates for consistency

### Don'ts ‚ùå
- ‚ùå Don't duplicate information across multiple docs
- ‚ùå Don't let documentation get stale
- ‚ùå Don't use ambiguous status indicators
- ‚ùå Don't create new result/summary documents for every session
- ‚ùå Don't forget to date your updates
- ‚ùå Don't write documentation for yourself only
- ‚ùå Don't make assumptions about reader's knowledge
- ‚ùå Don't create new documents when updating existing ones will suffice

---

## üìö Document Hierarchy

```
Priority 1 (Always Up to Date):
  ‚îî‚îÄ PROJECT_CONTEXT.md
  ‚îî‚îÄ IMPLEMENTATION_STATUS.md

Priority 2 (Update Weekly):
  ‚îî‚îÄ README.md
  ‚îî‚îÄ Session logs
  ‚îî‚îÄ Test results

Priority 3 (Update as Needed):
  ‚îî‚îÄ Guides
  ‚îî‚îÄ API docs
  ‚îî‚îÄ Architecture docs

Priority 4 (Update Before Release):
  ‚îî‚îÄ Deployment guides
  ‚îî‚îÄ Troubleshooting
  ‚îî‚îÄ CHANGELOG
```

---

## üîÑ Version Control

### Commit Messages for Docs

```bash
# Good commit messages
docs: update PROJECT_CONTEXT with new auth flow
docs(logs): add session completion summary
docs(api): document new Edge Function endpoints

# Bad commit messages
updated docs
fixes
documentation
```

### Documentation Branches

- Keep documentation in same branch as code
- Review documentation changes in PRs
- Tag documentation versions with releases

---

**Last Updated:** 2025-01-11  
**Maintained By:** Project Team  
**Review Frequency:** Monthly

